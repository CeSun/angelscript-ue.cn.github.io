<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://docs.angelscript-ue.g1sgame.com/docs.css">
    <link rel="icon" href="https://docs.angelscript-ue.g1sgame.com/favicon.svg">
    <title> AngelScript虚幻引擎文档 | 仅编辑器脚本 </title>
</head>
<body>
	<main>
		<nav>
			<a href="https:&#x2F;&#x2F;docs.angelscript-ue.g1sgame.com">
				<img src="https://docs.angelscript-ue.g1sgame.com/angelscript_unreal.png" alt=""/>
			</a>

			<ul>
				<li>
					<a href="https:&#x2F;&#x2F;docs.angelscript-ue.g1sgame.com">主页</a>
				</li>
				<li>
					<a href="https://discord.gg/39wmC2e">加入Discord讨论群</a>
				</li>
				<li>
					<a href="https://angelscript.hazelight.se/api">API文档</a>
				</li>
			</ul>

			<label>开始上手</label>
				<ul>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/getting-started/installation/">安装</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/getting-started/introduction/">脚本介绍</a>
				</li>
				</ul>
			<label>脚本特性</label>
				<ul>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/functions-and-events/">函数和事件</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/properties-and-accessors/">属性和访问器</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/actors-components/">Actors 和 Components</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/function-libraries/">函数库</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/fname-literals/">FName字面量</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/format-strings/">格式化字符串</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/structs-refs/">值类型和引用类型</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/networking-features/">网络特性</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/delegates/">委托和事件</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/mixin-methods/">扩展函数(Mixin)</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/gameplaytags/">Gameplay Tags</a>
				</li>
				<li class="active">
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/editor-script/">仅编辑器脚本</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/subsystems/">Subsystems</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/script-tests/">测试脚本</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/scripting/cpp-differences/">和C++的区别</a>
				</li>
				</ul>
			<label>C++用法和绑定</label>
				<ul>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/cpp-bindings/automatic-bindings/">自动绑定</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/cpp-bindings/mixin-libraries/">扩展函数(Mixin)</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/cpp-bindings/precompiled-data/">预编译脚本</a>
				</li>
				</ul>
			<label>UE-AS 脚本发展</label>
				<ul>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/project/development-status/">项目现状</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/project/resources/">相关资源</a>
				</li>
				<li >
					<a href="https://docs.angelscript-ue.g1sgame.com/project/license/">开源授权</a>
				</li>
				</ul>
			</nav>
		<article>
			
	<h1 id="editor-only-script">Editor-Only Script<a class="zola-anchor" href="#editor-only-script" aria-label="Anchor link for: editor-only-script">🔗</a></h1>
<p>Some properties, functions, or classes from C++ are only available in the editor.
If you try to use them in a cooked game, the script will fail to compile.</p>
<p>This could be things like actor labels, editor subsystems or visualizers, etc.</p>
<h2 id="preprocessor-blocks">Preprocessor Blocks<a class="zola-anchor" href="#preprocessor-blocks" aria-label="Anchor link for: preprocessor-blocks">🔗</a></h2>
<p>If you need to use editor-only code within a class, you can use the <code>#if EDITOR</code> preprocessor statement around the code.
Any code within these blocks is not compiled outside of the editor, and can safely use editor-only functionality.</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #569cd6;">#if EDITOR</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">PivotOffset</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;">(</span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">10</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #569cd6;">#endif</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UFUNCTION</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">BlueprintOverride</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">void</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">ConstructionScript</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; {</span></div><div><span style="color: #569cd6;">#if EDITOR</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #dcdcaa;">SetActorLabel</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">"Example Actor Label"</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #569cd6;">#endif</span></div><div><span style="color: #d4d4d4;">&#160; &#160; }</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<blockquote>
<p><strong>Tip:</strong> Other useful macro conditions:<br />
<code>EDITORONLY_DATA</code> - Whether properties that are only relevant to the editor are readable.<br />
<code>RELEASE</code> - Whether the game is built in either the Shipping or Test build configurations.<br />
<code>TEST</code> - Whether the game is built in Debug, Development, or Test build configurations.</p>
</blockquote>
<h2 id="editor-only-directories">Editor-Only Directories<a class="zola-anchor" href="#editor-only-directories" aria-label="Anchor link for: editor-only-directories">🔗</a></h2>
<p>It is also possible for complete scipt files to be skipped outside of the editor.
Any folder named <code>Editor</code> will be completely ignored by the script compiler in cooked builds.
This can be useful to put for example editor visualizer or subsystem classes under an <code>Editor</code> folder.</p>
<p>In addition to the <code>Editor</code> folder, the two other folder names <code>Examples</code> and <code>Dev</code> are also ignored in cooked builds.</p>
<h1 id="testing-with-simulate-cooked-mode">Testing with Simulate-Cooked Mode<a class="zola-anchor" href="#testing-with-simulate-cooked-mode" aria-label="Anchor link for: testing-with-simulate-cooked-mode">🔗</a></h1>
<p>Because of editor-only scripts, it's possible to have scripts in your project that work and compile in the editor, but will fail once the game is cooked.
To make it easier to detect these errors - for instance in a CI task - you can use the <code>-as-simulate-cooked</code> command line parameter.</p>
<p>When simulate cooked mode is active, editor-only properties and classes are not available in script, and <code>#if EDITOR</code> blocks are compiled out.</p>
<p>You can use this in combination with the <code>AngelscriptTest</code> commandlet to make sure everything compiles.
An unreal command line to test whether the scripts compile might look like:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">UnrealEditor-Cmd.exe </span><span>&quot;</span><span style="color:#a3be8c;">MyProject.uproject</span><span>&quot;</span><span style="color:#bf616a;"> -as-simulate-cooked -run</span><span>=AngelscriptTest
</span></code></pre>

</article>
	</main>
</body>